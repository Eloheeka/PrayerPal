<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.5/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-SgOJa3DmI69IUzQ2PVdRZhwQ+dy64/BUtbMJw1MZ8t5HZApcHrRKUc4W0kG879m7" crossorigin="anonymous">
    <title>PrayerPal</title>
    <style>
        body{
            background-color: rgb(191,190,190);
            
        }
        h1,h3{
            color: white;
            
        }
         form {
             width: 50%; /* or use something like 300px */
             margin: 0 auto;
             display: block;
             padding: 10px;
             border-radius: 5px;
    }
    #prayerDisplay{
        color:black;
        text-align:center;
        margin-top:20px;
        font-style:italic;
    }
    .diff{
        color:black;
        font-weight: 10px;
    }
    
       


    </style>
</head>

<body>
    <div class="container">
        <H1 class="text-center">PrayerPal‚úùÔ∏è</H1> 
        <h3 class="text-center mt-5">HE IS ALWAYS A PRAYER AWAY‚òéÔ∏èüíû</h3>
    </div>
    <form class="mt-5" id="prayerForm">
    <select class="form-select" name="focus" id="focusSelect" required>
        <option value="" selected>What do you wanna pray about?</option>
        <option value="Joy">Joy</option>
        <option value="Anxiety">Anxiety</option>
        <option value="Strength">Strength</option>
        <option value="Gratitude">Gratitude</option>
        <option value="Faith">Faith</option>
        <option value="Fear">Fear</option>
        <option value="Studies">Studies</option>
        <option value="Family">Family</option>
        <option value="Peace">Peace</option>
        <option value="Salvation">Salvation</option>

      </select> 
      <button class="btn btn-primary w-25 mx-auto d-block  mt-5 " type="submit">GET PRAYER</button> 
      </form> 
    <div class="container">
        <div  class="text-center" id="prayerDisplay"></div> 
    </div> 
    <h6 class="text-center diff mt-5 mt-3">If you only get a verse,click again(or even multiple timesüíÄ) to get a prayer.</h6>
      <h4 class="text-center mt-5">Made with üíó by Eloheeka</h4>
      <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.5/dist/js/bootstrap.bundle.min.js" integrity="sha384-k6d4wzSIapyDyv1kpU366/PK5hCdSbCRGRCMv+eplOQJWyd1fbcAu9OCUj5zNLiq" crossorigin="anonymous"></script>
    <script>
        document.getElementById('prayerForm').addEventListener('submit', async (e) => {
            e.preventDefault();
            const focus = document.getElementById('focusSelect').value;
            const prayerDisplay = document.getElementById('prayerDisplay');

            if (!focus) {
                prayerDisplay.textContent = 'Please select a prayer focus.';
                return;
            }

            try {
                const response = await fetch('http://localhost:3000/get-prayer', {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({ focus })
                });
                const data = await response.json();

                if (data.error) {
                    prayerDisplay.textContent = data.error;
                } else {
                    prayerDisplay.innerHTML = `"${data.text}" <br><strong>‚Äî ${data.source}</strong>`;
                }
            } catch (error) {
                prayerDisplay.textContent = 'Error fetching prayer. Please try again.';
            }
        });
    </script>
</body>
</html>
